<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="Generator" content="iWeb 3.0.4" />
    <meta name="iWeb-Build" content="local-build-20170407" />
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
    <meta name="viewport" content="width=700" />
    <title>Detector and pixel corrections</title>
    <link rel="stylesheet" type="text/css" media="screen,print" href="Detector_correction_files/Detector_correction.css" />
    <!--[if lt IE 8]><link rel='stylesheet' type='text/css' media='screen,print' href='Detector_correction_files/Detector_correctionIE.css'/><![endif]-->
    <!--[if gte IE 8]><link rel='stylesheet' type='text/css' media='screen,print' href='Media/IE8.css'/><![endif]-->
    <script type="text/javascript" src="Scripts/iWebSite.js"></script>
    <script type="text/javascript" src="Scripts/Widgets/SharedResources/WidgetCommon.js"></script>
    <script type="text/javascript" src="Scripts/Widgets/Navbar/navbar.js"></script>
    <script type="text/javascript" src="Detector_correction_files/Detector_correction.js"></script>
  </head>
  <body style="background: rgb(101, 101, 101); margin: 0pt; " onload="onPageLoad();" onunload="onPageUnload();">
    <div style="text-align: center; ">
      <div style="margin-bottom: 10px; margin-left: auto; margin-right: auto; margin-top: 10px; overflow: hidden; position: relative; word-wrap: break-word;  background: rgb(255, 255, 255); text-align: left; width: 700px; " id="body_content">
        <div style="margin-left: 0px; position: relative; width: 700px; z-index: 0; " id="nav_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper"> </div>
          <div style="height: 1px; line-height: 1px; " class="tinyText"> </div>
          <div class="com-apple-iweb-widget-navbar flowDefining" id="widget0" style="margin-left: 20px; margin-top: 24px; opacity: 1.00; position: relative; width: 660px; z-index: 1; ">
    
            <div id="widget0-navbar" class="navbar">

      
              <div id="widget0-bg" class="navbar-bg">

        
                <ul id="widget0-navbar-list" class="navbar-list">
 <li></li> 
</ul>
                
      
</div>
              
    
</div>
          </div>
          <script type="text/javascript"><!--//--><![CDATA[//><!--
new NavBar('widget0', 'Scripts/Widgets/Navbar', 'Scripts/Widgets/SharedResources', '.', {"path-to-root": "", "navbar-css": ".navbar {\n\tfont-family: 'Helvetica Neue', Arial, sans-serif;\n\tfont-size: .8em;\n\tcolor: #666666;\n\tline-height: 30px;\n\tborder-bottom: 3px solid #ccc;\n}\n\n.navbar-bg {\n\ttext-align: right;}\n\n.navbar-bg ul {\n\tlist-style: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\n\n\nli {\n\tlist-style-type: none;\n\tdisplay: inline;\n\tpadding: 0px 5px 0px 0px;\n}\n\n\nli a {\n\ttext-decoration: none;\n\tpadding: 10px;\n\tcolor: #666666;\n\tfont-weight: bold;\n}\n\nli a:visited {\n\ttext-decoration: none;\n\tpadding: 10px;\n\tcolor: #666666;\n\tfont-weight: bold;\n}\n\nli a:hover\r{\r\n \tcolor: #999999;\n\ttext-decoration: none;\r}\n\n\nli.current-page a\r{\r\t color: #66ABC5;\n\ttext-decoration: none;\r}\n", "current-page-GUID": "7562817C-4E31-4745-8328-7CA9F51FBD3B", "isCollectionPage": "NO"});
//--><!]]></script>
          <div style="clear: both; height: 0px; line-height: 0px; " class="spacer"> </div>
        </div>
        <div style="height: 106px; margin-left: 0px; position: relative; width: 700px; z-index: 10; " id="header_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper"> </div>
          <div id="id1" style="height: 43px; left: 20px; position: absolute; top: 20px; width: 515px; z-index: 1; " class="style_SkipStroke shape-with-text">
            <div class="text-content Normal_External_515_43" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="Header">Detector and pixel corrections</p>
              </div>
            </div>
          </div>
          


          <div id="id2" style="height: 36px; left: 27px; position: absolute; top: 70px; width: 662px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_662_36" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="Free_Form">Some detectors are better than others.  All results trace back to the detectors, and errors in the detector propagate through all results. A little effort goes a long way towards improving results.  </p>
              </div>
            </div>
          </div>
        </div>
        <div style="margin-left: 0px; position: relative; width: 700px; z-index: 5; " id="body_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper"> </div>
          <div id="id3" style="height: 20px; left: 15px; position: absolute; top: 22px; width: 515px; z-index: 1; " class="style_SkipStroke_2 shape-with-text">
            <div class="text-content Normal_External_515_20" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="paragraph_style">dark calibration file</p>
              </div>
            </div>
          </div>
          


          <div id="id4" style="height: 443px; left: 22px; position: absolute; top: 44px; width: 662px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_662_443" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-top: 0pt; " class="Free_Form">Signal on the detector with no incident photons.<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">Usually electronic offsets.  Detector offsets can change, especially when detector systems are swapped or per-pixel gain settings are adjusted.  It is good practice to use a new dark calibration for each new experiment.   The weaker your signals the more important this becomes - single photon signals are only a few detector values (ADU) in size and can get easily lost when using the wrong dark calibration file. In extreme cases, more frequent darkcals may be needed. <br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">In the .ini file:<br /></p>
                <p class="Free_Form">    # Dark calibration<br /></p>
                <p class="Free_Form">    darkcal=../../calib/darkcal/current-darkcal.h5<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">Configuration for producing a darkcal file is in: darkcal.ini<br /></p>
                <p class="Free_Form">&gt; less /reg/g/cfel/cheetah/template/cheetah/process/darkcal.ini<br /></p>
                <p class="Free_Form">    [front]<br /></p>
                <p class="Free_Form">    detectorType=cspad<br /></p>
                <p class="Free_Form">    detectorName=CxiDs1<br /></p>
                <p class="Free_Form">    saveDetectorRaw=0<br /></p>
                <p class="Free_Form">    saveDetectorCorrected=1<br /></p>
                <p class="Free_Form">    saveDetectorAndPhotonCorrected=0<br /></p>
                <p class="Free_Form">    saveAssembled=0<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">    []<br /></p>
                <p class="Free_Form">    hitfinder=0<br /></p>
                <p class="Free_Form">    generateDarkcal=1<br /></p>
                <p class="Free_Form">    powderSumHits=1<br /></p>
                <p class="Free_Form">    powderSumBlanks=1<br /></p>
                <p class="Free_Form">    saveInterval=500<br /></p>
                <p class="Free_Form">    nThreads=16<br /></p>
                <p class="Free_Form"><br /></p>
                <p style="padding-bottom: 0pt; " class="Free_Form"><span class="style">Note:</span> the mean and standard deviation contained in the *-class0-sum.h5 file is very useful for finding bad pixels.</p>
              </div>
            </div>
          </div>
          


          <div id="id5" style="height: 20px; left: 15px; position: absolute; top: 516px; width: 515px; z-index: 1; " class="style_SkipStroke_2 shape-with-text">
            <div class="text-content Normal_External_515_20" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="paragraph_style">bad pixel mask</p>
              </div>
            </div>
          </div>
          


          <div id="id6" style="height: 316px; left: 22px; position: absolute; top: 538px; width: 662px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_662_316" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-top: 0pt; " class="Free_Form">Bad pixels are flagged in the pixel mask and set to zero at the start of analysis. Bad pixels are always ignored in analysis (radial averages, peak finding, images etc). Zeroing the pixels solves problems with auto-ranging viewers displaying the image on a useful image scale (outliers throw off autoranging and these pixels are definitely bad so kill them). <br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">In the .ini file:<br /></p>
                <p class="Free_Form">    # Bad pixel maps<br /></p>
                <p class="Free_Form">    badpixelmap=../../calib/mask/current-badpix.h5<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">Every detector has bad pixels.  These need to be identified so that they can be avoided during analysis. <br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">Bad pixels can be identified from dark frames as pixels that are either excessively noisy or have offsets significantly different to their neighbours.  Use darkcal.ini to process a dark run, then “Tools--&gt;Make bad pixel mask from Darkcal” to identify misbehaving pixels.<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">Dead pixels behave the same whether or not they are illuminated and are therefore useless for signal measurement.  However they can’t be identified from the dark calibration file because they look identical to normal pixels when not illuminated.  Dead pixels can be identified from runs in which photons are incident on each pixel (for example, water scattering).  Use brightfield.ini to sum up one such run, then “Tools--&gt; Make bad pixel mask from brightfield” to identify pixels which remain dark even when illuminated.  There are corner cases which go wrong - the results of this need to be inspected.<br /></p>
                <p class="Free_Form"><br /></p>
                <p style="padding-bottom: 0pt; " class="Free_Form">Masks can be combined using the “Tools--&gt;Combine masks” utility.  Use ‘Shift’ to select the masks to be combined. </p>
              </div>
            </div>
          </div>
          


          <div id="id7" style="height: 20px; left: 15px; position: absolute; top: 1139px; width: 515px; z-index: 1; " class="style_SkipStroke_2 shape-with-text">
            <div class="text-content Normal_External_515_20" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="paragraph_style">geometry</p>
              </div>
            </div>
          </div>
          


          <div id="id8" style="height: 190px; left: 22px; position: absolute; top: 1161px; width: 662px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_662_190" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-top: 0pt; " class="Free_Form">Is absolutely critical for analysis, although hit finding itself is normally not very sensitive to a perfect geometry.<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">Unlike crystal indexing, and Cheetah can happily run using the provided default geometry files.  Indeed this is often adequate.  However, radial background subtraction is sensitive to geometry, and can be quite so in the presence of concentric ‘powder rings’ from ice or other polycrystalline sample in the beam.  SAXS/WAXS traces also benefit from use of a refined geometry so that radial averages are averaged across the same scattering angles.<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">In the .ini file:<br /></p>
                <p class="Free_Form">    # Detector geometry<br /></p>
                <p class="Free_Form">    geometry=../../calib/geometry/current-geometry.h5<br /></p>
                <p class="Free_Form"><br /></p>
                <p style="padding-bottom: 0pt; " class="Free_Form">Accurate geometry files are best obtained using the results of crystal indexing.  Geometry refinement is extensively discussed on the <a title="http://www.desy.de/~twhite/crystfel/manual-geoptimiser.html" href="http://www.desy.de/~twhite/crystfel/manual-geoptimiser.html">CrystFEL web pages</a>. </p>
              </div>
            </div>
          </div>
          


          <div id="id9" style="height: 20px; left: 15px; position: absolute; top: 880px; width: 515px; z-index: 1; " class="style_SkipStroke_2 shape-with-text">
            <div class="text-content Normal_External_515_20" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="paragraph_style">Peak mask (‘Do not analyse data here’)</p>
              </div>
            </div>
          </div>
          


          <div id="id10" style="height: 218px; left: 22px; position: absolute; top: 902px; width: 662px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_662_218" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-top: 0pt; " class="Free_Form">Badly named variable called peakmask because it (initially) defined the regions to ignore for peak finding, for example jet streaks or shadows on the detector. Also used to define regions to be excluded from other analysis (single particle hit finding, radial averages, etc).  Defines regions to ignore in analysis, but pass data through to the final image (as opposed to bad pixels, which are zeroed).<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">In the .ini file:<br /></p>
                <p class="Free_Form">   # Peakfinding region mask<br /></p>
                <p class="Free_Form">   peakmask=../../calib/mask/current-peakmask.h5<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">In practice this is pretty important: Shadowed pixels should not be included in radial averages, for example; while jet regions often result in false peaks and will also give bad values if you try to integrate reflectoins on top of the jet.  <br /></p>
                <p class="Free_Form"><br /></p>
                <p style="padding-bottom: 0pt; " class="Free_Form">Peak mask regions are flagged in the pixel mask array using a different value so they can be treated differently in subsequent analysis (eg: do not integrate reflections in shadows or the jet region).  Masks can be combined using the “Tools--&gt;Combine masks” utility.  Use ‘Shift’ to select the masks to be combined. </p>
              </div>
            </div>
          </div>
          <div style="height: 1351px; line-height: 1351px; " class="spacer"> </div>
        </div>
        <div style="height: 1676px; margin-left: 0px; position: relative; width: 700px; z-index: 15; " id="footer_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper"> </div>
          <div id="id11" style="height: 20px; left: 15px; position: absolute; top: 14px; width: 515px; z-index: 1; " class="style_SkipStroke_2 shape-with-text">
            <div class="text-content Normal_External_515_20" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="paragraph_style">Detector gain</p>
              </div>
            </div>
          </div>
          


          <div id="id12" style="height: 176px; left: 22px; position: absolute; top: 36px; width: 662px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_662_176" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-top: 0pt; " class="Free_Form">Some detectors enable different gain settings for different pixels.  <br /></p>
                <p class="Free_Form"> <br /></p>
                <p class="Free_Form">In the .ini file: <br /></p>
                <p class="Free_Form">    # Gain calibration<br /></p>
                <p class="Free_Form">    gaincal=../../calib/gaincal/current-gaincal.h5<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">Default is no gain correction.  Value in the file is the factor by which each pixel should be multiplied (eg: 7.2 for cspad regions in low-gain mode).  Note: It may be necessary to change the data save format to provide sufficient data depth for the range of values in gain corrected data (beware integer overflow). <br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">    # Accepted formats = {INT16,INT32,float}<br /></p>
                <p style="padding-bottom: 0pt; " class="Free_Form">    dataSaveFormat=INT16</p>
              </div>
            </div>
          </div>
          


          <div id="id13" style="height: 20px; left: 15px; position: absolute; top: 237px; width: 515px; z-index: 1; " class="style_SkipStroke_2 shape-with-text">
            <div class="text-content Normal_External_515_20" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="paragraph_style">Common mode</p>
              </div>
            </div>
          </div>
          


          <div id="id14" style="height: 92px; left: 22px; position: absolute; top: 259px; width: 662px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_662_92" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-top: 0pt; " class="Free_Form">Talk to your local detector expert if you need to find out what to put in here<br /></p>
                <p class="Free_Form"> <br /></p>
                <p class="Free_Form">In the .ini file: <br /></p>
                <p class="Free_Form">    # Unbonded pixels only for cspad v1.6 modules (January 2014 onwards)<br /></p>
                <p class="Free_Form">    commonModeCorrection=none<br /></p>
                <p style="padding-bottom: 0pt; " class="Free_Form">    #commonModeCorrection=asic_unbonded</p>
              </div>
            </div>
          </div>
          


          <div id="id15" style="height: 20px; left: 15px; position: absolute; top: 374px; width: 515px; z-index: 1; " class="style_SkipStroke_2 shape-with-text">
            <div class="text-content Normal_External_515_20" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="paragraph_style">Photon counting conversion</p>
              </div>
            </div>
          </div>
          


          <div id="id16" style="height: 106px; left: 22px; position: absolute; top: 396px; width: 662px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_662_106" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-top: 0pt; " class="Free_Form">Talk to your local detector expert if you need to find out what to put in here<br /></p>
                <p class="Free_Form"> <br /></p>
                <p class="Free_Form">In the .ini file: <br /></p>
                <p class="Free_Form">   # Photon counting conversion<br /></p>
                <p class="Free_Form">   photonCount=1<br /></p>
                <p class="Free_Form">   photconv_ev=8600<br /></p>
                <p style="padding-bottom: 0pt; " class="Free_Form">   photconv_adu=27</p>
              </div>
            </div>
          </div>
          


          <div id="id17" style="height: 20px; left: 15px; position: absolute; top: 528px; width: 515px; z-index: 1; " class="style_SkipStroke_2 shape-with-text">
            <div class="text-content Normal_External_515_20" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="paragraph_style">Noisy, hot or saturated pixels</p>
              </div>
            </div>
          </div>
          


          <div id="id18" style="height: 204px; left: 22px; position: absolute; top: 550px; width: 662px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_662_204" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-top: 0pt; " class="Free_Form">Talk to your local detector expert if you need to find out what to put in here<br /></p>
                <p class="Free_Form"> <br /></p>
                <p class="Free_Form">In the .ini file: <br /></p>
                <p class="Free_Form">   #useAutoHotPixel=0<br /></p>
                <p class="Free_Form">    #hotpixADC=10000<br /></p>
                <p class="Free_Form">    #hotpixFreq=0.9<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">    maskSaturatedPixels=1<br /></p>
                <p class="Free_Form">    pixelSaturationADC=16000<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">    #useAutoNoisyPixel=1<br /></p>
                <p class="Free_Form">    #noisyPixMinDeviation=100<br /></p>
                <p class="Free_Form">    #noisyPixIncludeHits=1<br /></p>
                <p style="padding-bottom: 0pt; " class="Free_Form">    #noisyPixRecalc=100</p>
              </div>
            </div>
          </div>
          


          <div id="id19" style="height: 20px; left: 15px; position: absolute; top: 780px; width: 515px; z-index: 1; " class="style_SkipStroke_2 shape-with-text">
            <div class="text-content Normal_External_515_20" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="paragraph_style">Per-pixel histograms for detector characterisation</p>
              </div>
            </div>
          </div>
          


          <div id="id20" style="height: 344px; left: 22px; position: absolute; top: 802px; width: 662px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_662_344" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-top: 0pt; " class="Free_Form">Very useful for characterising the detector, for example single photon counting sensitivity, this produces a data cube representing the histogram of measured values through a whole run.  Output is in the form of a data cube of shape corresponding to the detector array (raw layout, no geometry) by the number of histogram bins.  Per-pixel histograms can easily take lots of memory so we perform a memory limit check to prevent chaos.  Can be set to histogram only a region of the detector to get around this should you need lots of bins. <br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">Look at: <br /></p>
                <p class="Free_Form">    /reg/g/cfel/cheetah/template/cheetah/process/histogram.ini<br /></p>
                <p class="Free_Form"> <br /></p>
                <p class="Free_Form">In the .ini file: <br /></p>
                <p class="Free_Form">    histogram=1<br /></p>
                <p class="Free_Form">    histogramMin=-50<br /></p>
                <p class="Free_Form">    histogramBinSize=1<br /></p>
                <p class="Free_Form">    histogramNbins=200<br /></p>
                <p class="Free_Form">    histogram_fs_min=0<br /></p>
                <p class="Free_Form">    histogram_fs_max=1552<br /></p>
                <p class="Free_Form">    histogram_ss_min=0<br /></p>
                <p class="Free_Form">    histogram_ss_max=1480<br /></p>
                <p class="Free_Form">    histogramMaxMemoryGb=4<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">    hitfinder=0<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">Also, because the array is very large and takes a long time to save relative to calculation time:<br /></p>
                <p style="padding-bottom: 0pt; " class="Free_Form">    saveInterval=10000</p>
              </div>
            </div>
          </div>
          


          <div id="id21" style="height: 20px; left: 15px; position: absolute; top: 1166px; width: 515px; z-index: 1; " class="style_SkipStroke_2 shape-with-text">
            <div class="text-content Normal_External_515_20" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="paragraph_style">Pixel status</p>
              </div>
            </div>
          </div>
          


          <div id="id22" style="height: 488px; left: 22px; position: absolute; top: 1188px; width: 662px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_662_488" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p style="padding-top: 0pt; " class="Free_Form">Pixel masks returned by Cheetah for each event contain useful information about the status determined of each pixel in a frame.  This is <span class="style">very</span> useful in your analysis: you can use bits in this mask to determine whether or not to include certain pixels in your analysis.<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">Admittedly some of the definitions admittedly appear a bit odd - probably because they were added for specific applications and remain for historic reasons. <br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form">Definitions in detectorObject.h:<br /></p>
                <p class="Free_Form"><br /></p>
                <p class="Free_Form"> /*<br /></p>
                <p class="Free_Form"> * Bits for pixel masks<br /></p>
                <p class="Free_Form"> * Oriented along conventions for CXI file format ( <a title="https://github.com/FilipeMaia/CXI/raw/master/cxi_file_format.pdf" href="https://github.com/FilipeMaia/CXI/raw/master/cxi_file_format.pdf">https://github.com/FilipeMaia/CXI/raw/master/cxi_file_format.pdf</a> )<br /></p>
                <p class="Free_Form"> * CONVENTIONS:<br /></p>
                <p class="Free_Form"> * - All options are dominantly inherited during assembly and pixel integration (see assembleImage.cpp)<br /></p>
                <p class="Free_Form"> * - The default value for all options is &quot;false&quot;<br /></p>
                <p class="Free_Form"> */<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_PERFECT = 0; </span>                                                // Change this value if necessary<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_INVALID = 1; </span>                                                  // bit 0<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_SATURATED = 2; </span>                                          // bit 1<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_HOT = 4; </span>                                                         // bit 2<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_DEAD = 8;  </span>                                                     // bit 3<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_SHADOWED = 16;  </span>                                        // bit 4<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_IN_PEAKMASK = 32;</span>                                     // bit 5<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_TO_BE_IGNORED = 64; </span>                                // bit 6<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_BAD = 128;    </span>                                                 // bit 7<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_OUT_OF_RESOLUTION_LIMITS = 256;  </span>       // bit 8<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_MISSING = 512; </span>                                              // bit 9<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_NOISY = 1024; </span>                                                // bit 10<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_ARTIFACT_CORRECTED = 2048;  </span>                // bit 11<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_FAILED_ARTIFACT_CORRECTION = 4096; </span>      // bit 12<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_PEAK_FOR_HITFINDER = 8192;      </span>              // bit 13<br /></p>
                <p class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_PHOTON_BACKGROUND_CORRECTED = 16384;  </span>  // bit 14<br /></p>
                <p style="padding-bottom: 0pt; " class="Free_Form">static const uint16_t <span class="style">PIXEL_IS_IN_JET = 32768;</span>      // bit 15</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>


